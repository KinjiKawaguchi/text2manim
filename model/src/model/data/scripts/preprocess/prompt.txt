与えられたコードサンプルに対して、以下のタスクを実行してください：

1. コードの妥当性チェック:
   - このコードは[特定のライブラリ名]を適切に使用していますか？
   - コードの品質は高く、データセットに含める価値がありますか？
   - もし上記の質問にNoと答えた場合は、その理由を簡潔に説明してください。

2. コードの整形:
   - 妥当性チェックを通過した場合、コードを以下のガイドラインに従って整形してください：
     a) 関数にまとめられているコードを、一連の手順として書き直してください。
     b) 不要なコメントや冗長な部分を削除し、コードをシンプルにしてください。
     c) 変数名や関数名を明確で一貫性のあるものに変更してください。
     d) PEP 8スタイルガイド（Pythonの場合）に従ってコードを整形してください。

3. 整形したコードを出力してください。

結果は以下のJSON形式で返してください：
{
  "is_valid": true/false,
  "reason": "妥当でない場合の理由",
  "formatted_code": "整形後のコード"
}